{
   "apiVersion": "v1",
   "items": [
      {
         "apiVersion": "v1",
         "kind": "Pod",
         "metadata": {
            "labels": {
               "component": "sonobuoy",
               "run": "sonobuoy-master",
               "tier": "analysis"
            },
            "name": "sonobuoy",
            "namespace": "heptio-sonobuoy"
         },
         "spec": {
            "containers": [
               {
                  "command": [
                     "/bin/bash",
                     "-c",
                     "/sonobuoy master --no-exit=true -v 3 --logtostderr"
                  ],
                  "env": [
                     {
                        "name": "SONOBUOY_ADVERTISE_IP",
                        "valueFrom": {
                           "fieldRef": {
                              "fieldPath": "status.podIP"
                           }
                        }
                     }
                  ],
                  "image": "gcr.io/heptio-images/sonobuoy:latest",
                  "imagePullPolicy": "Always",
                  "name": "kube-sonobuoy",
                  "volumeMounts": [
                     {
                        "mountPath": "/etc/sonobuoy",
                        "name": "sonobuoy-config-volume"
                     },
                     {
                        "mountPath": "/etc/sonobuoy/plugins.d",
                        "name": "sonobuoy-plugins-volume"
                     },
                     {
                        "mountPath": "/tmp/sonobuoy",
                        "name": "output-volume"
                     }
                  ]
               }
            ],
            "restartPolicy": "Never",
            "serviceAccountName": "sonobuoy-serviceaccount",
            "volumes": [
               {
                  "configMap": {
                     "name": "sonobuoy-config-cm"
                  },
                  "name": "sonobuoy-config-volume"
               },
               {
                  "configMap": {
                     "name": "sonobuoy-plugins-cm"
                  },
                  "name": "sonobuoy-plugins-volume"
               },
               {
                  "emptyDir": { },
                  "name": "output-volume"
               }
            ]
         }
      },
      {
         "apiVersion": "v1",
         "kind": "Service",
         "metadata": {
            "labels": {
               "component": "sonobuoy",
               "run": "sonobuoy-master"
            },
            "name": "sonobuoy-master",
            "namespace": "heptio-sonobuoy"
         },
         "spec": {
            "ports": [
               {
                  "port": 8080,
                  "protocol": "TCP",
                  "targetPort": 8080
               }
            ],
            "selector": {
               "run": "sonobuoy-master"
            },
            "type": "ClusterIP"
         }
      }
   ],
   "kind": "List"
}
